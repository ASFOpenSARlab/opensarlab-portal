parameters:
  #aws_profile: 
  aws_region: us-west-2  # All possible AWS actions will assume this region
  docker_registry_domain: Docker registry domain that bult images are pushed to (localhost:5000)
  container_namespace: opensciencelab-portal
  maturity_namespace: dev
  deploy_mydevlab: False  # Deploy a basic JupyterHub. Useful for developing/testing the server interface.
  use_aws_logs: False  # Send logs to defined AWS Cloudwatch groups
  use_awsecr: False  # Use AWS ECR for images.
  ses_token_name: 'opensciencelab-portal-prod/ses-creds'  # AWS Secret Manager secret containing the SES token needed by the portal email service.
  sso_token_name: 'opensciencelab-portal-prod/sso-token'  # AWS Secret Manager secret containing the Portal SSO token needed for lab authentication.

portal:
  admin_user: username
  portal_domain: https://opensciencelab.asf.alaska.edu  # Public domain of the Portal (registered externally).
  stmp_verified_email: uaf-jupyterhub-asf@alaska.edu  # AWS SES verified email used by portal email service as sender. 
  allowed_auto_approved_emails: '^(?!.*(?:\.ir|\.kp|navalcadets\.com)$).*'  ## To disallow auto approve: '^!.*'
  access_cidrs: 0.0.0.0/0  # If defined, the network CIDR of allowed IPs within nginx
  dns_nameserver: 10.0.0.2  # IP address used for DNS resolution within nginx

  # Use the following values for local development
  dns_nameserver: 127.0.0.53
  nginx-options:
    - proxy_set_header X-Scheme http;
    - proxy_set_header X-Localdev set;
    - add_header X-Localdev set;

# Google calendar notifications for portal and labs with format. 
notifications:
  portal: https://calendar.google.com/calendar/ical/c_m83kml2an7689ms3d9jc84ld9ggroup.calendar.google.com/public/basic.ics

# Meta for lab cards that users see on the Portal homepage
labs:
  - friendly_name: OpenSARLab (ASF DAAC)
    description: >-
      <p>NASA JupyterHub operated by the Alaska Satellite Facility</p>
      <p style="color: orangered;">User storage is permanently deleted after 30 days of inactivity. Users can request a temporary extension by contacting the OSL Admins.</p>
      <hr style="border-top: 1px solid grey;">
      <div style="font-size: 12px;margin: 10px 0 0 0;text-align: justify;">
        <p>By accessing and using this information system, you acknowledge and consent to the following:</p>
        <p>You are accessing a U.S. Government information system, which includes: (1) this computer; (2) this computer network; (3) all computers connected to 
          this network including end user systems; (4) all devices and storage media attached to this network or to any computer on this network; and 
          (5) cloud and remote information services. </p>
        <p>This information system is provided for U.S. Government-authorized use only. You have no reasonable expectation of privacy regarding any 
          communication transmitted through or data stored on this information system. At any time, and for any lawful purpose, the U.S. Government may monitor, 
          intercept, search, and seize any communication or data transiting, stored on, or traveling to or from this information system. 
          You are NOT authorized to process classified information on this information system. Unauthorized or improper use of this system may 
          result in suspension or loss of access privileges, disciplinary action, and civil and/or criminal penalties. </p>
      </div>
    short_name: smce-prod-opensarlab  # Lab short name defined in lab's opensciencelab.yaml
    deployment_url: https://smce-prod-1240379463.us-west-2.elb.amazonaws.com  # Load balancer address (including schema)
    logo: ASFLogo-Blue2.png  # File found at ./services/portal/usr/local/share/jupyterhub/static/images
    about_page_url: https://opensarlab-docs.asf.alaska.edu/user/
    about_page_button_label: Info
    ip_country_status:  # GeoIP status by country code for this particular lab. Global status defined below takes precedent.
      limited: ['BH','BT','EG','IL','JO','KW','OM','PK','QA','SA','TW','AE','YE','EH']
      prohibited: ['AF','BY','MM','KH','CT','CN','CD','CU','CY','ER','ET','HT','IR','IQ','KP','LB','LY','NI','SO','SS','SU','SY','VE','ZW','RU']
    enabled: True
    accessibility: protected  # Can be one of `public`, `protected`, or `private`. 

blocked_ips:
 - 000.00.00.0000
 - 155.248.193.114  # Denial of Service Attack 21 Aug 2023
 - 114.122.199.54  # Mining attack on 20 Jul 2024.

# Global GeoIP status by country code. These values override any specific lab values.
ip_country_status:
  limited: []
  prohibited: [KP,IR]

# Redirects handled by nginx. The below domain must be registered externally and with a CNAME of the Portal Load Balancer
redirects:
  - domain: opensarlab.asf.alaska.edu
    target_path: /lab/smce-prod-opensarlab/
